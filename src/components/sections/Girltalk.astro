---
import AnimatedIphone from "../elements/AnimatedIphone.astro";

const firstSection = [
  { type: "image", src: "/img/drink.svg", alt: "Drink no thanks" },
  { type: "image", src: "/img/message.svg", alt: "Digital message with text" },
];

const secondSection = [
  {
    type: "quote",
    text: "Selvom jeg har venner, føler jeg mig tit ensom.",
    class: "text-[#273AA9]",
  },
  {
    type: "quote",
    text: "Jeg har fået diagnosen autisme, så jeg føler anderledes end de andre",
    class: "text-[#273AA9]",
  },
];

const thirdSection = [
  {
    type: "text",
    text: "Ingen fortjener at stå alene",
    class: "text-giriltalkRed font-bold text-2xl text-center",
  },
  { type: "image", src: "/img/together.svg", alt: "Digital message with text" },
];
---

<section class="grid grid-cols-1 lg:grid-cols-3 gap-2 min-h-screen">
  <div class="text-3xl lg:col-start-1 lg:row-start-1 place-content-center">
    <h2 class="font-black">Girltalk</h2>
  </div>

  <article
    class="bg-girltalk flex justify-center items-center lg:col-start-2 p-6 lg:col-span-2 lg:row-start-1"
  >
    <AnimatedIphone items={firstSection} delay={0} />
  </article>

  <article
    class="bg-girltalk lg:col-start-1 grid justify-center items-center p-6"
  >
    <AnimatedIphone items={secondSection} delay={0.5} />
  </article>

  <article
    class="bg-girltalkPink grid items-center justify-center bg-girltalk lg:col-start-2 lg:row-start-3 py-6"
  >
    <AnimatedIphone items={thirdSection} delay={1} />
  </article>

  <video
    class="lg:col-start-1 lg:col-span-2"
    src="/video/girltalk.mp4"
    controls
    autoplay
    muted
    loop></video>
</section>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const fadeInElements = document.querySelectorAll(".fade-in");
    const fadeInObserver = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("visible");
          }
        });
      },
      {
        threshold: 0.1,
      }
    );

    fadeInElements.forEach((element) => fadeInObserver.observe(element));
  });
</script>
